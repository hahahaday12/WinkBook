# 📖 WinkBook 

## 🎈 프로젝트 소개 
도서구매자들을 위한 <b>도서 사이트</b> 입니다.

![Wink_logo](https://github.com/hahahaday12/WinkBook/assets/101441685/6d2171ea-1cd0-447d-8131-336d31c233c9)

WinkBook은 e-book을 판매하는 컨셉의 쇼핑몰 사이트 입니다. <br/>
다양한 미디어가 발달함 으로서 책에 멀어지는 현대인들을 위해, 조금더 친숙 하게 책에 다가갈수 있도록 e-book의 컨셉을 잡게 되었습니다.<br/>
지루하지 않은 느낌을 주기 위해 만화책 처럼 채도가 있는 사이트 UI를 만들게 되었습니다. <br/>
총 5개의 도서별 카테고리가 나눠져 있으며 실제 도서 사이트에서 사용하는 상세 설명을 나타내도록 했습니다.<br/>
쇼핑몰을 만들 때 충분히 활용할 수 있는 사이트를 개설하자는 목표를 가지고 진행 되었으며, 실제 오픈 Api를 활용하여 기능을 구현하였습니다.<br/>

-----

## 📅 프로젝트 기간

2023.05.30 ~ 2023.07.02

--------

## 📍 배포 URL

[WinkBook](https://master--wink-book.netlify.app/) (윙크북 쇼핑몰 페이지 )

[WinkBook-Admin](https://winkbook-admin.netlify.app) (윙크북 관리자 페이지)

--------

##  팀원

|            [서동욱](https://github.com/foodeco)            |            [김하은](https://github.com/hahahaday12)             |             [김세연](https://github.com/saeyeonKim)             |              [문대현](https://github.com/dhmoon11)              |          [박진영](https://github.com/jinyoungpark231)          |
| :--------------------------------------------------------: | :-------------------------------------------------------------: | :-------------------------------------------------------------: | :-------------------------------------------------------------: | :------------------------------------------------------------: |
| ![](https://avatars.githubusercontent.com/u/106901147?v=4) | ![](https://avatars.githubusercontent.com/u/101441685?s=96&v=4) | ![](https://avatars.githubusercontent.com/u/118176015?s=96&v=4) | ![](https://avatars.githubusercontent.com/u/128357255?s=96&v=4) | ![](https://avatars.githubusercontent.com/u/76546374?s=96&v=4) |
| 메인페이지, 어드민페이지, 카페24&아임포트 토큰 발행 및 api | 장바구니, 마이페이지, 상세페이지, 회원가입, 인증, 결제 및 조회  |                        검색페이지, 결제                         |                    마이페이지, 회원정보 수정                    |                      검색페이지, 목록조회                      |



---------

## ✨ 기술스택

<img src="https://github.com/hahahaday12/WinkBook/assets/101441685/83729917-238e-48d5-b5e4-a546ad08cf46" width=600px alt="기술스택 이미지" />

### Develoment
  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white">
  <img src="https://img.shields.io/badge/CSS-1572B6?style=for-the-badge&logo=CSS3&logoColor=white">
  <img src="https://img.shields.io/badge/sass-CC6699?style=for-the-badge&logo=sass&logoColor=white">
  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=white">
  <img src="https://img.shields.io/badge/typescript-3178C6?style=for-the-badge&logo=typescript&logoColor=white">

### Config

  <img src="https://img.shields.io/badge/npm-CB3837?style=for-the-badge&logo=npm&logoColor=white">

### Enviroment

  <img src="https://img.shields.io/badge/visualstudiocode-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white">
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
  <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">

### Deployment

  <img src="https://img.shields.io/badge/netlify-00C7B7?style=for-the-badge&logo=netlify&logoColor=white">

------

## 📇 사용된 오픈 Api

커머스: ![](https://img.cafe24.com/images/common/cafe24.svg)

결제: ![](https://www.gitbook.com/cdn-cgi/image/width=100,dpr=1,height=40,fit=contain,format=auto/https%3A%2F%2F3026939543-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FwWX2hlvRZLZrXeH1aacF%252Flogo%252FdtaZNeSUqL59mzfDm6jC%252FPortOne_Logo_Black.png%3Falt%3Dmedia%26token%3Dd66f72ec-8826-4be6-8e09-b0b32ff9a482)

* 결제 가능한 카드사 
 - 비씨 
 - 현대

* 안되는 카드 
 - 국민 
 - 삼성 

(테스트 결제 모듈이기 때문에 연결된 카드사만 결제가 됩니다. 주후 추가적인 결제 모듈도 도입해볼 생각입니다.)

 -------

## 🖥전체 화면 구성 

| **메인 페이지** | **메인 페이지** | **메인 페이지** |
| :--------------------------------------------: | :--------------------------------------------: | :--------------------------------------------: |
| <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/30643991-2a22-4565-9c50-b549daeebe86" width=1600px alt="메인" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/b5e14c96-7a9f-4fa3-b9fc-5a8eaf912615g" width=1600px alt="어바웃" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/6952518f-5c30-422d-ab21-dd8f7f0fd130" width=1800px alt="어바웃" /> |

| **회원가입 페이지** | **로그인 페이지** |
| :--------------------------------------------: | :--------------------------------------------: | 
| <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/11482651-0e1d-4f3e-bc69-97501408adab" width=500px alt="회원가입" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/18cc06f9-de73-4333-830c-c19caa7b4141" width=500px alt="로그인" /> |

| **상세정보 페이지** | **상세정보 페이지** |
| :--------------------------------------------: | :--------------------------------------------: | 
| <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/dab45cf6-a1a7-4ac6-a357-1b63a4bc4e47" width=472px alt="상세정보 페이지" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/5b95565f-058d-4f10-9744-bb11c9b0e4c8" width=470px alt="마이페이지 주문 상세" />

| **장바구니 페이지** | **주문 페이지** |
| :--------------------------------------------: | :--------------------------------------------: | 
| <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/cc7ae625-110e-47b5-907f-2cf88cd11462" width=472px alt="상세정보 페이지" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/cde3bbe8-8f7f-4af4-ad10-be2a54c0ea79" width=470px alt="마이페이지 주문 상세" />

| **제품검색 페이지** | **마이 페이지** |
| :--------------------------------------------: | :--------------------------------------------: |
| <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/0b34f52a-70a0-481c-8095-53532170a92b" width=500px alt="제품검색페이지" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/976abb3c-7a36-4833-8a04-dc61023b12d5" width=600px heigth=600px alt="마이페이지 주문 상세" />

| **회원정보 수정 페이지** | **결과 모달** |
| :--------------------------------------------: | :--------------------------------------------: | 
| <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/bed2f139-6cd0-4148-a65b-e032ca74f6de" width=620px alt="회원정보 수정" /> | <img src="https://github.com/KDT1-FE/KDT5-M5/assets/101441685/0fc9436a-9440-4bcd-808e-f15cf87838c3" width=600px alt="결과 모당창" />

| **관리자 페이지 (상품 관리)** | **관리자 페이지 (상품등록 관리)** |
| :--------------------------------------------: | :--------------------------------------------: | 
| <img src="https://github.com/KDT1-FE/KDT5-M5/assets/101441685/0c3af749-03ab-4495-9569-ac23563ef0db" width=520px alt="관리자페이지 상품관리" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/b4d370fe-3cff-479b-a230-50695c0e724d" width=500px alt="사용자 관리" />

| **관리자 페이지 (회원정보 관리)** | **관리자 페이지 (구매정보 관리)** |
| :--------------------------------------------: | :--------------------------------------------: | 
| <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/e9413e24-6c8b-4b25-96a8-23841c346117" width=820px alt="마이페이지 개인정보 수정" /> | <img src="https://github.com/hahahaday12/WinkBook/assets/101441685/0812bc0b-9e0c-4747-bfd5-3d6038e55314" width=800px alt="b관리자페이지 사용자 관리uy" />

<br />

------

## 👨🏻‍🤝‍👨🏻 협업 방식 

### 1) Zoom
- 주말 및 특별한 사유가 있는 경우를 제외하고 1시에 회의 <br/>
- 데일리스크럼을 통해 각자의 진행상황과 작업 목표를 확인 <br/>
    -> 대략적인 목표에 구체적인 요청사항을 추가하는 시간 <br/>
    -> 오류 발생 시 화면을 공유하여 해결 방안을 함께 모색 <br/>

### 2) discord
-> 그룹원 간 작업 내용과 구현 내용의 구체적인 요구를 할 때 사용<br/>
-> 진행 중 막히는 부분에 대한 방법 공유<br/>

-----

## 🎈 작업 진행 

### 1) Notion
-> 그라운드 룰, 커밋 컨벤션, api 문서 등 프로젝트에서 필요한것들을 기록해두었습니다. 

#### ✅ Api 문서 정리 
<img width="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/d9b52548-872f-4253-80bb-f478a20a5382">

#### ✅ git commit 컨벤션 정리  
 <img width="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/e9f0c03c-afea-4a06-97cd-729542d797f3">
 
### 2) Github
#### 깃허브 전략 Github Flow<br/>
-> develop branch 생성.<br/>
-> develop branch 에서 각자 이름의 branch 생성.<br/> 
-> 각자 branch 에서 기능 개발이 완료되면 develop branch 로  PR 생성.<br/> 
-> 깃허브 담당자가 올라온 Pull request 확인후 develop branch 로 merge.<br/>
-> 모든 기능 구현 완료후 최종적으로  develop branch 를 master branch 로 merge.<br/>

<img width="350" height="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/7ae366b4-a077-4d3b-9609-64296bdd52ca">

-----

## ⚙ 프로젝트 설계 

### use case
<img width="800" height="400" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/b3fd68fa-1b17-49ff-abeb-081531a3a009">
<br/>

### 폴더 구성(초안)
<img width="800" height="400" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/6f434069-4618-474b-82b7-b4ca7b5d38cc">


-----

## 📌 프로젝트 주요 기능

### 메인

- 제품 검색
- 추천 도서
- sticky 안내바

### 상세페이지

- 구매, 대여 버튼
- 장바구니 자동 이동

### 검색

- 구매, 대여 버튼
- 검색 결과 미리보기

### 마이페이지

- 개인 구매 내역
- 회원 정보 수정

### 어드민페이지

- 물건 등록/수정/삭제
- 전체 회원 목록
- 전체 결제 내역

-----
## 🌟 프로젝트 구현 담당 기능 설명  

### 1) 로그인<br/>
-> 회원가입한 정보로 로그인 정보를 입력하게 되고 , 입력후 등록 하게 되면 Signin 이라는 함수가 실행되고, 만약 입력창에 지정한 조건이 입력되지 않으면 가입이 되지않게 return false로 지정해 두었습니다.<br/>
조건에 맞게 입력이 되면 서버에 로그인 정보를 보내게 되고 , 서버에서 token 값을 받아 localStorage 에 저장하도록 구현 하였습니다.<br/>
<img width="557" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/3d946aeb-22fa-414c-a162-ed06ed243ab9">

#### 🌟최종 로그인 구현모습



### 2) 회원가입<br/>
-> form 태그를 이용하여 사용자 친화적인 인터페이스를 만들고 , 안의 데이터 요소들을 그룹화 하여 서버에게 데이터를 간소화 하여 전달 하게 구현하였습니다. <br/>
-> 비밀번호 유효성 검사에 대한 상태값을 저장할수 있도록 isEmail 의 state 를 생성했고, 상태에 따른 오류 메세지를 저장할수 있는 오류 상태의 emailMessage 의 state 를 생성 하였습니다. <br/>
이후, 조건식으로 이메일 유효성 검사를 하여 지정된 조건식에 맞으면 그에 따른 상태 메세지를 setIsEmail안에 저장해두고 , <br/> 상태값을 setEmailMessage 안에 저장해두었습니다. 따라 사용자가 이메일을 입력중에 있을때
조건식에 맞지 않으면 아래에 해당 상태값에 대한 오류 메세지가 출력됩니다. <br/>

#### 구현코드
<img width="404" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/b11db4a9-4d46-4a54-8df9-216a74b9f929">

<img width="494" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/3ca8e1fc-187f-41f4-a160-b84c42654354"><br/>

-> 회원정보를 입력후 등록 버튼을 누르면 type 이 submit 인 {signUp} 이라는 함수가 실행되고 조건식으로 적혀지지 않은 기입 란이 존재하면 return false로 진행을 멈춥니다. <br/>
가입 조건이 맞으면 서버로 입력정보들을 전달하고 token값을 받아와 성공 여부의 알림이 뜹니다.<br/> 예외 처리로는 서버에서 오는 상태값에 따라 알림, 콘솔 창에 나타나도록 구현하였습니다. <br/>

<img width="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/54ebdcf8-f650-467a-a98e-ad751ae60a6f"><br/>
<img width="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/f621a320-dcd6-4f94-8639-01967bea779e"><br/>
<img width="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/dbe4cbf7-aaa1-4a8e-905f-7c7a1deb5de6"><br/>
<img width="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/d98dfbcc-3840-4065-a333-2d34da7195f3"><br/>

#### 🌟최종 회원가입 구현모습
<img width="404" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/beed2a55-477b-482f-bece-16c642f63671">


   
4) 상세페이지
5) 장바구니
6) 결제페이지
7) 장바구니



-----
##  구현중 마주친 문제점 과 해결방안  
1. 서로 다른 도메인으로 인한 cors 오류  ->
2. vite.config.ts 에서 proxy 설정으로 해결 <br/>
3. 카페24에서 제품조회 api를 이용하여 상세 페이지를 나타내고있으며  구매, 대여 버튼 클릭에 따라 장바구니에서도 다르게 담겨야함.<br/>
-> 각각 클릭 할때 제품 조회해 오는 api의 데이터에 key값,프로퍼티를 추가 <br/> 책구매하기 버튼을 클릭시 detail의 정보에 프로퍼티 gubun 값을 추가. 따라 책 구매하기 버튼 클릭시 gubun 값이 buy 로 추가된다.  장바구니 담기의 gubun 값은 rent 로 추가된다.<br/>
4. cafe24에서 어드민 권한을 어떻게 받을 수 있을까? -> 어드민 페이지 접속 하기 위해선 token이 필요한데, token에는 code값이 필요하다.<br/>
해당 값을 발급 받기 위해선 카페24의 특정 url에서 로그인을 하면 주소창에 code값이 생성되고 이를 바탕으로 token 요청 api를 보낸다.<br/>
이후 받은 응답으로 access token은 쿠키, refresh token은 local storage에 저장하게 되므로 배포된 페이지로 접속을 하면 refresh token을 갖고 토큰을 요청하므로 어드민 권한이 부여된다.<br/>
5. 로그인이 되어있는 상태에서 token이 만료 되면, 헤더의 로그아웃 부분이 클릭되지 않으며 '유효하지 않는 사용자' 라고 401 의 상태값이 나타난다.<br/>
-> header 부분에 에러 상태값에 대한 조건식을 넣어 에러 상태값이 401 일시 token을 제거하는 코드를 작성해주었다. 
<img width="527" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/68d443b7-3e8b-49e9-b4f2-a00edbcd4ac9">
<img width="298" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/40200159-a992-4ed5-8748-4a769437cf62">
<img width="246" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/c0ba71de-ccde-4e67-ae9b-51b5bd7867ab">
<img width="500" alt="image" src="https://github.com/hahahaday12/WinkBook/assets/101441685/f6b3ea27-6b47-403a-9ffc-88c50c4493dc">








---

## 문제점 해결 
